<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Conectar WhatsApp</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <style>
        body { background-color: #000; color: #fff; font-family: 'Inter', sans-serif; }
        #qr-container { display:flex; align-items:center; justify-content:center; height:100vh; flex-direction:column; }
        #qr-img { width:300px; height:300px; border-radius:8px; box-shadow:0 0 20px rgba(0,0,0,0.5); animation:pulse 2s infinite; }
        @keyframes pulse {
            0% { box-shadow:0 0 0 rgba(29,185,84,0.4); }
            50% { box-shadow:0 0 20px rgba(29,185,84,0.8); }
            100% { box-shadow:0 0 0 rgba(29,185,84,0.4); }
        }
    </style>
</head>
<body>
    <div id="qr-container">
        <img id="qr-img" src="" alt="QR Code" />
        <p class="mt-4 text-center text-gray-400">Aponte a c√¢mera do WhatsApp para o QR Code</p>
    </div>
    <script>
        const API = '/qr/data';
        async function fetchQR(){
            try {
                const r = await fetch(API);
                const j = await r.json();
                if(j.qr){ document.getElementById('qr-img').src = j.qr; }
            } catch(e){ console.error(e); }
        }
        fetchQR();
        setInterval(fetchQR, 10000);
    </script>
</body>
</html>
